# MiceExtVal

External model validation is a necessary step in the implementation of
risk prediction models in real life situations. There is an
overabundance of models that are not really tested in environments other
than their development. To aknowledge that a model will perform properly
in different environments we need to perform external validations in
them.

Simultanously, the majority of the availabe datasets for external
validation will come from electronic health records (EHR) resulting in
datasets with missing information. One of the most recommended
techniques to reduce the BIAS produced by the missing values is the
multiple imputation.

The package `MiceExtVal` helps to create workflows to externally
validate logistic regression and Cox models among a multiple imputed
dataset. The package helps users to generate the multiple imputation
workflow properly while maintaining a common syntax for both models.

![Flow diagram for the multiple imputation by chained equations
methodology](reference/figures/mermaid_diagram_1.svg)

Flow diagram for the multiple imputation by chained equations
methodology

## Installation

You can install the development version of `MiceExtVal` from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("metodologianavarrabiomed/mice-ext-val")

# alternativelly you can use the `pak` package
# install.packages("pak")
pak::pkg_install("metodologianavarrabiomed/mice-ext-val")
```

# Package index

## All functions

- [`calculate_auc()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_auc.md)
  : calculates the area under the curve for the given model

- [`calculate_brier_score()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_brier_score.md)
  : calculate the brier score for the given model definition

- [`calculate_harrell_c_index()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_harrell_c_index.md)
  : Calculates Harrell C-Index for a model

- [`calculate_predictions()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions.md)
  : Calculate the predictions for a model

- [`calculate_predictions(`*`<cox>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions.cox.md)
  : Calculates the predictions for a Cox model

- [`calculate_predictions(`*`<logreg>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions.logreg.md)
  : Calculates the predictions for a logistic regression model

- [`calculate_predictions_recalibrated_type_1()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_1.md)
  : Calculates the type 1 recalibration predictions for a model.

- [`calculate_predictions_recalibrated_type_1(`*`<cox>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_1.cox.md)
  : Calculates the type 1 recalibrated predictions

- [`calculate_predictions_recalibrated_type_1(`*`<logreg>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_1.logreg.md)
  : Calculates the type 1 recalibrated predictions for a logistic
  regression model.

- [`calculate_predictions_recalibrated_type_2()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_2.md)
  : Calculates the type 2 recalibration predictions for a model.

- [`calculate_predictions_recalibrated_type_2(`*`<cox>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_2.cox.md)
  : Calculates the type 2 recalibrated predictions for a Cox model

- [`calculate_predictions_recalibrated_type_2(`*`<logreg>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/calculate_predictions_recalibrated_type_2.logreg.md)
  : Calculates the type 2 recalibrated predictions for a logistic
  regression model

- [`framingham`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/framingham.md)
  : An example dataset from the Framingham study

- [`get_calibration_plot()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_calibration_plot.md)
  : Generates the calibration plot

- [`get_calibration_plot_data_prop()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_calibration_plot_data_prop.md)
  : Generates the data needed for the calibration plot

- [`get_calibration_plot_data_surv()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_calibration_plot_data_surv.md)
  : Generates the data needed for the calibration plot

- [`get_forestplot()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_forestplot.md)
  : Function that generates a C-Index forestplot for the given data

- [`get_forestplot_data()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_forestplot_data.md)
  :

  Generates the forestplot data needed in
  [`get_forestplot()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_forestplot.md)

- [`get_recalibrate_param_type_1_cox()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_recalibrate_param_type_1_cox.md)
  : Obtain the \\\alpha\\ value for the recalibration.

- [`get_recalibrate_params_type_2_cox()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_recalibrate_params_type_2_cox.md)
  : Obtains the \\S_0(t)\\ and \\\beta\_{overall}\\ parameters for
  recalibration

- [`get_stratified_calibration_plot_prop()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_stratified_calibration_plot_prop.md)
  : generates an stratified calibration plot

- [`get_stratified_calibration_plot_surv()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/get_stratified_calibration_plot_surv.md)
  : generates an stratified calibration plot

- [`gusto`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/gusto.md)
  : An example of the GUSTO-I W region dataset extracted from the book
  'Clinical Prediction Models', see references. We have inserted missing
  values to the dataset in order to be used as an example for this
  package.

- [`mv_model_cox()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/mv_model_cox.md)
  : Creates a cox model.

- [`mv_model_logreg()`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/mv_model_logreg.md)
  : Creates a logistic regression model

- [`print(`*`<MiceExtVal>`*`)`](https://metodologianavarrabiomed.github.io/mice-ext-val/reference/print.MiceExtVal.md)
  :

  A generic function to print the `MiceExtVal` model

# Articles

### All vignettes

- [Example Of Use With Dichotomous
  Outcome](https://metodologianavarrabiomed.github.io/mice-ext-val/articles/get-started-logreg.md):
- [Example Of Use With Survival
  Outcome](https://metodologianavarrabiomed.github.io/mice-ext-val/articles/get-started-surv.md):
